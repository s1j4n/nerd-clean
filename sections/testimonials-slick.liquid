{{ 'icon-with-text.css' | asset_url | stylesheet_tag }}


{% style %}
  .nerd-iconwithtext svg {
    height: {{ section.settings.icon_height_desktop }}px;
    width: {{ section.settings.icon_height_desktop }}px;
  }
  {%  unless section.settings.slider_type == "carets" %} 
  
.slick-prev, .slick-next {
  display: none !important;
}
  
  {% endunless %}





  @media screen and (max-width: 750px) {
    .nerd-iconwithtext svg {
      height: {{ section.settings.icon_height_mobile }}px;
      width: {{ section.settings.icon_height_mobile }}px;
    }


  }
{% endstyle %}

<div class="nerd-container color-{{ section.settings.color_scheme }}">
  <div class="{% unless section.settings.full_width %}nerd-page-width {% endunless %}">
        <div class="nerd-title scroll-trigger animate--slide-in {% if section.settings.heading_center %} text-center {% endif %} ">{{ section.settings.title }}</div>

    <div class="nerd-content">
      <div class="your-class">
          {% for block in section.blocks limit: section.settings.total_to_show %}
            <div>
             <div class="nerd-testimonial {% if section.settings.card_height == "fit_large" %} height-full {% endif %}">
                {% if block.settings.image %}
                  {% assign image = block.settings.image %}
                  {{ image | image_url: width: 100 | image_tag: class: 'nerd-testimonial--image', loading: 'lazy' }}
                {% else %}
                  {{ 'image' | placeholder_svg_tag: 'nerd-testimonial--image' }}
                {% endif %}
                <div class="nerd-title-small">
                  {{ block.settings.name }}
                </div>
                <div class="nerd-text-small italic">{{ block.settings.comment }}</div>
              </div>
            </div>
          {%- else -%}
            {%- for i in (1..3) -%}
              <div
                >
               <div class="nerd-testimonial ">
                  {{ 'image' | placeholder_svg_tag: 'nerd-testimonial--image' }}
                  <div class="nerd-title-small">John Doe</div>
                  <div class="nerd-text-small italic">
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore
                    et dolore magna aliqua.
                  </div>
                </div>
              </div>
            {%- endfor -%}
          {%- endfor -%}
        </div>
    </div>
  </div>
</div>

<script type="text/javascript">
    $(document).ready(function(){
      $('.your-class').slick({
{%  if section.settings.slider_type == "dots" %}
  dots: true,
{% endif %}
  infinite: false,
  speed: 300,
  slidesToShow: 3,
  slidesToScroll: 1,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 3,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 970,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 750,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
  ]
      });
    });
</script>


{% schema %}
{
  "name": "Testimonials",
  "settings": [
     {
      "type": "inline_richtext",
      "id": "title",
      "default": "What Our Clients Say",
      "label": "Title"
    },
     {
      "type" : "checkbox",
      "id" : "full_width",
      "default" : false,
      "label" : "Full Width"
      
    },
    {
      "type": "select",
      "id" : "slider_type",
      "default": "dots",
      "label": "Slider Type",
      "options": [
        {
          "label": "Dots",
          "value": "dots"
        }
        ,
        {
          "label": "Carets",
          "value": "carets"
        },
        {
          "label" : "None",
          "value": "none"
        }
      ]
    },
      {
      "type" : "checkbox",
      "id" : "heading_center",
      "default" : true,
      "label" : "Center Heading"
      
    },
    {
      "type" : "range",
      "id" : "total_to_show",
      "min" : 1,
      "max" : 5,
      "default" : 4,
      "step" : 1,
      "label" : "Total Items to show"
    },
      {
    "type" : "select",
    "id" : "card_height",
    "label" : "Card Height",
    "default" : "fit_large",
    "options" : [
      {
        "value" : "fit_large",
        "label" :  "Fit Largest"
      },
      {
        "value" : "fit_content",
        "label" : "Fit Content"
      }

    ]
        
  },
    {
    "type": "color_scheme",
    "id": "color_scheme",
    "label": "t:sections.all.colors.label",
    "info": "t:sections.image-banner.settings.color_scheme.info",
    "default": "background-1"
    },
           {
    "type": "color_scheme",
    "id": "color_scheme_card",
    "label": "Card Color Scheme",
    "default": "background-2"
    }

  ],
  "blocks" : [
     {
      "type": "testimonial",
      "name": "Testimonials",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
           "type": "text",
          "id": "name",
          "label": "name",
          "default" : "John Doe"
        },
        {
           "type": "richtext",
          "id": "comment",
          "label": "comment",
          "default" : "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"
        }
      ]
    }
  ],
  "presets" : [
    {
      "name" : "Testimonials"
    }
  ]
}
{% endschema %}