{% liquid
   assign products_to_display = section.settings.collection.all_products_count


  

  assign columns_mobile_int = section.settings.columns_mobile | plus: 0
  assign show_mobile_slider = false
  if section.settings.display_style == 'slider' and products_to_display > columns_mobile_int
    assign show_mobile_slider = true
  endif

  assign show_desktop_slider = false
  if section.settings.display_style == 'slider' and products_to_display > section.settings.columns_desktop
    assign show_desktop_slider = true
  endif
  

%}
  


<div class="nerd-container color-{{ section.settings.color_scheme }}">
<div class="nerd-page-width" >
  <div class="title inline-richtext h1 scroll-trigger animate--slide-in">Image Slider</div>
  <div class="nerd-content">
    <slider-component class="custom_slider_item slider-mobile-gutter slider-component-full-width scroll-trigger animate--slide-in {% if show_desktop_slider %} slider-component-desktop{% endif %}">
      <ul
        id="Slider-{{ section.id }}"
        class="grid product-grid contains-card contains-card--product contains-card--standard grid--{{ section.settings.columns_desktop }}-col-desktop grid--{{ section.settings.columns_mobile }}-col-tablet-down slider slider--desktop slider--tablet grid--peek"
        role="list"
        aria-label="{{ 'general.slider.name' | t }}"
      >
          {% for block in section.blocks %}
          {% assign image = block.settings.image %}
          <li
            id="Slide-{{ section.id }}-{{ forloop.index }}"
            class="grid__item slider__slide scroll-trigger animate--slide-in"
            {% if settings.animations_reveal_on_scroll %}
              data-cascade
              style="--animation-order: {{ forloop.index }};"
            {% endif %}
          >
         
            {% if image %}
            {{ image | image_url: width: image.width | image_tag: class: 'image-hw-full nerd-rounded-md', loading: 'lazy' }}
              {% else %}
              {{ 'image' | placeholder_svg_tag: 'image-hw-full nerd-rounded-md' }}

            {% endif %}
          </li>
        {%- else -%}
          {%- for i in (1..4) -%}
            <li
              class="grid__item{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}"
              {% if settings.animations_reveal_on_scroll %}
                data-cascade
                style="--animation-order: {{ forloop.index }};"
              {% endif %}
            >
              {{ 'image' | placeholder_svg_tag: 'image-hw-full nerd-rounded-md ' }}
            </li>
          {%- endfor -%}
        {%- endfor -%}
      </ul>

      
      {%- if show_mobile_slider or show_desktop_slider -%}

      <div class="slider-buttons no-js-hidden">
        <button
          type="button"
          class="slider-button slider-button--prev"
          name="previous"
          aria-label="{{ 'general.slider.previous_slide' | t }}"
          aria-controls="Slider-{{ section.id }}"
        >
          {% if section.settings.buttons_style == 'arrow' %}
            <div class="arrow-icon">
              {% render 'icon-arrow' %}
            </div>

          {% else %}
            {% render 'icon-caret' %}
          {% endif %}
        </button>
        <div class="slider-counter caption">
          <span class="slider-counter--current">1</span>
          <span aria-hidden="true"> / </span>
        </div>
        <button
          type="button"
          class="slider-button slider-button--next"
          name="next"
          aria-label="{{ 'general.slider.next_slide' | t }}"
          aria-controls="Slider-{{ section.id }}"
        >
          {% if section.settings.buttons_style == 'arrow' %}
            <div class="arrow-icon">
              {% render 'icon-arrow' %}
            </div>

          {% else %}
            {% render 'icon-caret' %}
          {% endif %}
        </button>
      </div>
      {%  endif %}
    </slider-component>
  </div>
</div>
</div>

{% schema %}
{
  "name": "Image Slider",
  "settings": [
       {
    "type": "color_scheme",
    "id": "color_scheme",
    "label": "t:sections.all.colors.label",
    "info": "t:sections.image-banner.settings.color_scheme.info",
    "default": "background-1"
    },
  {
    "type" : "radio",
    "id" : "display_style",
    "label" : "Display Style",
    "default" : "slider",
    "options" : [
      {
        "value" : "slider",
        "label" :  "Slider"
      },
      {
        "value" : "grid",
        "label" : "grid"
      }
      
    ]
  },
    {
    "type" : "radio",
    "id" : "columns_desktop",
    "label" : "Columns in Desktop",
    "default" : "3",
    "options" : [
      {
        "value" : "3",
        "label" :  "3"
      },
      {
        "value" : "4",
        "label" : "4"
      }
      
    ]
  },
      {
    "type" : "radio",
    "id" : "columns_mobile",
    "label" : "Columns in Mobile",
    "default" : "1",
    "options" : [
      {
        "value" : "1",
        "label" :  "1"
      },
      {
        "value" : "2",
        "label" : "2"
      }
      
    ]
  }
    
  ],
  "blocks" : [
     {
        "type": "image_picker",
        "name": "image",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          }
        ]
      }
    
  ],
  "presets" : [
    {
      "name" : "Image Slider"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
